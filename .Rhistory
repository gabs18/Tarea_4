colorNumeric(palette = "Purples",
domain = ASP_registros$especies,
na.color = "transparent")
pal_especies <-
colorNumeric(palette = "Purples",
domain = ASP_registros$especies,
na.color = "transparent")
# Creación de paletas de colores
pal_registros <-
colorNumeric(palette = "BuPu",
domain = ASP_registros$especies,
na.color = "transparent")
pal_especies <-
colorNumeric(palette = "BuPu",
domain = ASP_registros$especies,
na.color = "transparent")
# Creación de paletas de colores
pal_registros <-
colorNumeric(palette = "BuPu",
domain = ASP_registros$especies,
na.color = "transparent")
pal_especies <-
colorNumeric(palette = "BuPu",
domain = ASP_registros$especies,
na.color = "transparent")
# Mapa
leaflet() %>%
addTiles(group = "Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ color_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "grey",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = color_especies,
values = asp_registro$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addTiles(group = "Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ color_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "grey",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = color_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addTiles(group = "Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ color_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "grey",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addTiles(group = "Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey OSM") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Creación de paletas de colores
pal_registros <-
colorNumeric(palette = "Purples",
domain = ASP_registros$especies,
na.color = "transparent")
pal_especies <-
colorNumeric(palette = "Purples",
domain = ASP_registros$especies,
na.color = "transparent")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey OSM") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Creación de paletas de colores
pal_registros <-
colorNumeric(palette = "RdPu",
domain = ASP_registros$especies,
na.color = "transparent")
pal_especies <-
colorNumeric(palette = "RdPu",
domain = ASP_registros$especies,
na.color = "transparent")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey OSM") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad - especies"
) %>%
addLayersControl(baseGroups = c("Grey Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad y especies"
) %>%
addLayersControl(baseGroups = c("Grey Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas") %>%
addMiniMap(
tiles = providers$Stamen.OpenStreetMap.Mapnik,
position = "bottomleft",
toggleDisplay = TRUE
)
# Creación de conjunto de datos con la cantidad de registros por ASP
ASP_registros <-
ASP %>%
st_make_valid() %>%
st_join(orquideas) %>%
group_by(nombre_asp) %>%
summarize(especies = n())
# Asignación de sistema de coordenadas
st_crs(ASP_registros) = 4326
# Creación de paletas de colores
pal_especies <-
colorNumeric(palette = "RdPu",
domain = ASP_registros$especies,
na.color = "transparent")
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad y especies"
) %>%
addLayersControl(baseGroups = c("Grey Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas") %>%
addMiniMap(
tiles = providers$Stamen.OpenStreetMap.Mapnik,
position = "bottomleft",
toggleDisplay = TRUE
)
ASP <- ASP %>%
filter(descripcio!="Area Marina de Manejo" & descripcio!="Area marina protegida")
cat("Cantidad de registros después de descartar las áreas marinas: ", nrow(ASP))
# Mapa
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.75,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad y especies"
) %>%
addLayersControl(baseGroups = c("Grey Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomright",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de orquideas") %>%
addMiniMap(
tiles = providers$Stamen.OpenStreetMap.Mapnik,
position = "bottomleft",
toggleDisplay = TRUE
)
# Mapa
leaflet() %>%
setView(lng = -84.0, lat = 10.0, zoom = 7) %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.9,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de especies de orquideas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad y especies"
) %>%
addLayersControl(baseGroups = c("Grey Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomleft",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de <br> especies <br> de orquideas")
# Mapa
leaflet() %>%
setView(lng = -84.0, lat = 10.0, zoom = 7.5) %>%
addProviderTiles(providers$CartoDB.Positron, group = "Grey Open Street Map") %>%
addPolygons(
data = ASP_registros,
fillColor = ~ pal_especies (ASP_registros$especies),
fillOpacity = 0.9,
stroke = TRUE,
color = "black",
weight = 1,
popup = paste(
paste(
"<strong>Localidad:</strong>",
ASP_registros$nombre_asp
),
paste(
"<strong>Cantidad de especies de orquídeas:</strong>",
ASP_registros$especies
),
sep = '<br/>'
),
group = "Localidad y especies"
) %>%
addLayersControl(baseGroups = c("Grey Open Street Map"),
overlayGroups = c("Localidad y especies")) %>%
addLegend(
position = "bottomleft",
pal = pal_especies,
values = ASP_registros$especies,
group = "Localidad y especies",
title = "Cantidad de <br> especies <br> de orquídeas")
q()
